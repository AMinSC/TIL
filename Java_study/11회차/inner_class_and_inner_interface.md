# 이너 클래스와 이너 인터페이스

## 이너 클래스
클래스 내부에 포함되는 `이너 클래스(inner class)`는 인스턴스 멤버 이너 클래스, 정적 멤버 이너 클래스 그리고 지역 이너 클래스로 나뉩니다.

인스턴스 멤버와 정적 멤버 이너 클래스는 필드와 메서드처럼 클래스의 멤버인 반면, 지역 이너 클래스는 메서드 내에서 정의하며, 지역 변수처럼 해당 메서드 내부에서만 한정적으로 사용되는 클래스입니다.


### 인스턴스 멤버 이너 클래스
인스턴스 멤버 이너 클래스는 이름에서도 알 수 있는 것처럼 인스턴스, 즉 객체 내부에 멤버의 형태로 존재합니다.

이때 자신을 감싸고 있는 아우터 클래스(outer class)의 모든 접근 지정자의 멤버에 접근할 수 있습니다.
인스턴스 멤버 이너 클래스 자체도 아우터 클래스의 멤버이므로 당연합니다.

> 접근 지정자와 상관없이 아우터 클래스의 멤버를 사용할 수 있다는 점을 활용하기 위해 일반적으로 이너 클래스를 사용합니다.
따라서 이너 클래스가 아우터 클래스와 밀접하게 관련되어 있을 때 주로 사용합니다.

소스 파일(.java)이 1개라 하더라도 컴파일을 수행하면 각 클래스별로 바이트 코드(.class) 파일이 생성됩니다.  따라서 이너 클래스도 마찬가지로 `아우터 클래스$이너 클래스.class`형식으로 생성됩니다.

이너 클래스로 생성되는 파일명에서 볼 수 있는 것처럼 이너 클래스는 독립적으로 사용할 수 없고, 반드시 아우터 클래스를 이용해야만 사용할 수 있습니다.

- 인스턴스 이너 클래스 객체 생성하기
앞에서 말한 것처럼 인스턴스 멤버 이너 클래스는 아우터 클래스의 객체 내부에 존재하기 때문에 이너 클래스의 객체를 생성하기 위해서는 먼저 아우터 클래스의 객체를 생성해야 합니다.

```java
// 인스턴스 멤버 이너 클래스의 객체 생성 방법
아우터 클래스 아우터 클래스 참조 변수 = new 아우터 클래스();
아우터 클래스.이너 클래스 이너 클래스 참조 변수 = 아우터 클래스 참조 변수.new 이너 클래스();

// 예
class A {
    class B {
        ...
    }
}

A a = new A();
A.B b = a.new B();
```

여기서 한가지 주의해야 할 점은 이너 클래스 객체의 자료형은 B가 아니라 A.B라는 것입니다.  그 이유는 생성되는 바이트 코드가 A$B.class이기 때문입니다.


- 아우터 클래스의 객체 참조하기
아우터 클래스의 필드나 메서드와 동일한 이름을 이너 클래스 안에서 정의했다면, 당연히 이너 클래스의 필드나 메서드가 참조됩니다.
참조 객체명을 생략할 때는 자기 자신의 객체를 가리키는 this 키워드를 컴파일러가 자동으로 추가하기 때문입니다.

하지만, 이너 클래스 내부에서 아우터 클래스의 멤버를 참조하고 싶다면 `아우터 클래스명.this.`를 명시적으로 붙여 사용해야 합니다.

> 이너 클래스의 메서드 내에서 참조 변수 없이 멤버를 사용하면 컴파일러는 일단 `this.`를 붙여 멤버를 찾습니다.
만일 해당되는 멤버가 없다면 `아우터 클래스.this.`를 붙여 아우터 클래스의 멤버를 검색해 실행합니다.


### 정적 멤버 이너 클래스
정적 멤버 이너 클래스는 이너 클래스 앞에 static 키워드가 포함된 이너 클래스입니다.
정적 메서드와 동일하게 아우터 클래스의 정적 멤버만이 접근할 수 있으며, 이는 이너 클래스의 특성이 아닌 정적(static) 특성입니다.
즉, 아우터 클래스의 객체를 생성하지 않아도 정적 이너 클래스의 객체를 생성해 사용할 수 있어야 하므로 아우터 클래스의 멤버 중 객체 생성 없이 바로 사용할 수 있는 정적 멤버만 정적 이너 클래스 내부에서 사용할 수 있습니다.


- 정적 이너 클래스 객체 생성하기
컴파일 이후에는 인스턴스 멤버 클래스와 동일하게 `아우터 클래스.class`, `아우터 클래스$이너 클래스.class`의 바이트 코드 파일이 생성됩니다.
반면, 객체를 생성하는 방법은 아래와 같으며, 정적 이너 클래스도 말 그대로 정적 멤버이므로 클래스명으로 바로 접근할 수 있습니다.

```java
// 정적 멤버 이너 클래스의 객체 생성 방법
아우터 클래스.이너 클래스 이너 클래스 참조 변수 = new 아우터 클래스.이너 클래스();

// 예
class A {
    static class B {
        ...
    }
}

A.B b = new A.B();
```


### 지역 이너 클래스
지역 이너 클래스는 클래스의 멤버가 아닌, 메서드 내에서 정의되는 클래스입니다.
지역 변수처럼 정의된 메서드 내부에서만 사용할 수 있으므로 일반적으로 지역 이너 클래스는 선언 이후 바로 객체를 생성해 사용하며, 메서드가 호출될 때만 메모리에 로딩됩니다.
따라서 지역 이너 클래스는 정적 클래스로 지정할 수 없습니다.

지역 클래스를 컴파일하면 `아우터 클래스$+숫자+이너 클래스.class`와 같이 지역 이너 클래스 이름 앞에 숫자가 포함된 이름으로 클래스 파일이 생성됩니다.
이유는 지역 이너 클래스는 메서드 내에서만 정의하고 사용할 수 있으므로 여러 개의 메서드에서 동일한 이름의 지역 이너 클래스를 생성할 수도 있기 때문입니다.
동일한 지역 클래스명이 있을 때 숫자가 1부터 하나씩 증가합니다.


- 지역 이너 클래스 객체 생성하기
지역 이너 클래스도 다른 이너 클래스처럼 아우터 클래스의 멤버를 접근 지정자와 상관없이 사용할 수 있으며, 추가로 자신이 정의된 메서드의 지역 변수도 클래스 내부에서 사용할 수 있습니다.
다만, `지역 변수를 사용할 때는 반드시 해당 지역 변수가 final로 선언 되어야 하며, 만일 final로 선언되지 않은 지역 변수를 지역 클래스 내부에서 사용할 때는 컴파일러가 강제로 해당 지역 변수에 final을 추가해 줍니다.`

```java
// 지역 이너 클래스의 객체 생성 방법
지역 이너 클래스 지역 이너 클래스 참조 변수 = new 지역 이너 클래스();

// 예
class A {
    void abc() {
        class B {
            ...         // 지역 이너 클래스
        }
        B b = new B();  // 지역 이너 클래스 객체 생성
    }
}
```


## 익명 이너 클래스


### 익명 이너 클래스의 정의와 특징

### 익명 이너 클래스를 활용한 인터페이스 타입의 입력매개변수 전달

## 이너 인터페이스

### 이너 인터페이스의 정의와 특징

### 이벤트 처리 기능 작성하기

